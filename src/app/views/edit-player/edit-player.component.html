<div class="container" *ngIf="player">
    <div class="row">
        <h3 class="title mb-16px">Account details</h3>
        <!-- Show info section -->
        <ng-container *ngIf="!edit" class="playerInfo">
            <p class="info-text"><strong>Email: </strong>{{player.email}}</p>
            <p class="info-text"><strong>First name: </strong>{{player.firstName}}</p>
            <p class="info-text"><strong>Last name: </strong>{{player.lastName}}</p>
            <p class="info-text"><strong>Category: </strong>{{player.category}}</p>
            <p class="info-text"><strong>Position: </strong>{{player.position}}</p>
            <p class="info-text"><strong>Active since: </strong>{{ player.playerCreationDateTime | date:'longDate' }}
            </p>
        </ng-container>
        <!-- End info section -->
        <!-- Form section -->
        <form *ngIf="edit" [formGroup]="editForm">
            <div class="form-group">
                <input type="email" class="input-text" id="email" name="email" formControlName="email" (change)="inputChange('email')" (keyup)="inputChange('email')"
                        placeholder="Your email" (onblur)="checkValid('email')" pInputText />
                <input type="text" class="input-text" id="firstName" name="firstName" formControlName="firstName" (change)="inputChange('firstName')" (keyup)="inputChange('firstName')"
                        placeholder="Your first name" maxlength="30" pInputText />
                <input type="text" class="input-text" id="lastName" name="lastName" formControlName="lastName" (change)="inputChange('lastName')" (keyup)="inputChange('lastName')"
                        placeholder="Your last name" maxlength="30" pInputText />
                <p-dropdown [options]="categories" class="input-dropdown" id="category" name="category" formControlName="category" (ngModelChange)="inputChange('category')"
                        placeholder="Select your category" optionValue="cat" optionLabel="cat" ></p-dropdown>
                <p-dropdown [options]="positions" class="input-dropdown" id="position" name="position" formControlName="position" (ngModelChange)="inputChange('position')"
                        placeholder="Select your position" optionValue="val" optionLabel="pos" ></p-dropdown>
            </div>
        </form>
        <!-- End form section -->
        <!-- Buttons section -->
        <button *ngIf="!edit" pButton class="p-button-rounded main-button" [label]="editAccountBtnLabel" (click)="editAccount()">
            <span class="material-icons-round button log-button">edit</span>
        </button>
        <button *ngIf="!edit" pButton class="p-button-rounded main-button" [label]="deleteAccountBtnLabel">
            <span class="material-icons-round button log-button">delete</span>
        </button>
        <button *ngIf="edit" pButton type="submit" class="p-button-rounded main-button" [label]="saveAccountChangesBtnLabel" (click)="saveChanges()"
        [disabled]="!inputHasChanged">
            <span class="material-icons-round button log-button">save_alt</span>
        </button>
        <button *ngIf="edit" pButton class="p-button-rounded main-button" [label]="cancelAccountChangesBtnLabel" (click)="cancelChanges()">
            <span class="material-icons-round button log-button">close</span>
        </button>
        <!-- End buttons section -->
    </div>
</div>
<app-loader [show]="loading"></app-loader>